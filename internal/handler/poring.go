package handler

import (
	"math/rand"

	"codeberg.org/parfentjev/godrop/internal/godrop"
)

// these lines were generated by Gemini, 100 different actions
var poringActions = []string{
	"bounces gently on the soft grass",
	"lets out a happy \"Poring!\" sound",
	"wobbles slightly side-to-side",
	"basks warmly in a patch of sunlight",
	"hops twice in excitement",
	"bumps softly against a friendly Poporing",
	"jiggles contently",
	"looks curiously at a passing butterfly",
	"makes a soft, bubbling noise",
	"squishes down slightly before bouncing high",
	"rustles through a patch of fallen leaves",
	"stares blankly at a tree trunk",
	"lets out a quiet \"po...ring?\"",
	"nudges a stray Jellopy",
	"sits perfectly still, enjoying the peace",
	"hops backwards suddenly",
	"tries to absorb a dewdrop from a leaf",
	"wobbles its head around, observing",
	"makes a happy little \"Bloop!\" sound",
	"spins slowly in a circle",
	"plops down softly onto a patch of moss",
	"quivers slightly as a breeze rustles the leaves",
	"watches a Novice wander by",
	"bounces off a large mushroom cap",
	"lets out a series of small, happy hops",
	"settles into the grass for a moment",
	"makes a gurgling sound of contentment",
	"bumps gently against your ankle",
	"stretches upwards slightly, then relaxes",
	"simply enjoys being a Poring in the forest",
	"rolls slowly down a tiny slope",
	"slides a little on some wet moss",
	"hops left, then right, then left again",
	"bounces very, very slowly",
	"vibrates with a low, quiet hum",
	"sniffs cautiously at a bright yellow flower",
	"leans its side against a cool, smooth stone",
	"peers into its faint reflection in a puddle",
	"gets briefly stuck near a sticky plant, then pops free",
	"peeks out shyly from behind a leafy fern",
	"feels a large dewdrop land on it with a plink",
	"watches a line of tiny ants march determinedly past",
	"tilts its body as if listening intently to distant birdsong",
	"observes a green Fabre munching happily on a leaf",
	"quickly bounces away from a grumpy-looking Creamy",
	"accidentally bumps into a sleeping Lunatic, then wobbles away quietly",
	"notices a colorful Chonchon flutter high above",
	"ignores a nearby passive Willow completely",
	"soaks up the gentle warmth radiating from the sun-baked earth",
	"jumps slightly in surprise as a bird's shadow passes overhead",
	"lets out a startled \"Po!?\" sound",
	"feels slightly sticky after brushing against sap",
	"seems to wish it had found a tasty Jellopy",
	"feels pleasantly full from absorbing sunlight and forest air",
	"looks around lazily for something interesting to bounce on",
	"bounces tentatively towards a small, shiny pebble",
	"quivers for a second, startled by a snapping twig",
	"gives a little wiggle for no apparent reason",
	"emits a long, low, drawn-out \"Poooooring...\"",
	"hums a tuneless, bubbly, internal song",
	"makes a sound like a soft, contented sigh",
	"gurgles quietly to itself",
	"lets out a tiny squeak after bumping into a sharp rock",
	"makes a small, satisfying popping sound after a big bounce",
	"tries to mimic a Fabre's slow crawl, fails adorably",
	"attempts to bounce determinedly up a small dirt mound",
	"leaves a barely visible, slightly slimy trail on a flat rock",
	"seems to absorb the faint, calming magical energy of the forest",
	"twitches slightly, perhaps dreaming of giant Jellopies",
	"rests its lower curve comfortably on the ground",
	"jiggles excitedly back and forth for a moment",
	"makes 'eye contact' with a motionless Pupa",
	"bounces with a steady, relaxed rhythm",
	"looks up towards the gently rustling tree canopy",
	"allows a curious ladybug to crawl slowly over its surface",
	"taps gently against the side of a hollow log",
	"wobbles uncertainly before choosing a direction",
	"does a small, happy tumble that ends in a bounce",
	"presses itself against the ground, feeling the earth's vibrations",
	"lets out a short, sharp burst of \"Poring! Poring!\"",
	"seems to ponder the intricate details of a single blade of grass",
	"squishes carefully underneath a low-hanging, leafy branch",
	"moves slowly towards the faint sound of dripping water",
	"suddenly stops bouncing mid-air and listens intently",
	"jiggles the very top part of its body slightly",
	"waits patiently near a patch of interesting flowers",
	"gazes intently at its own slowly moving shadow",
	"rubs its side gently against a smooth, rounded pebble",
	"tries, and fails, to catch a gently falling leaf",
	"makes a soft 'thump' sound landing after a particularly high bounce",
	"appears to be meditating, achieving inner Poring peace",
	"bounces forward in a slow, deliberate zig-zag pattern",
	"leans slightly to one side, as if listening to the ground",
	"uses its movement to trace a small, rough circle on the dirt",
	"releases a single, small, iridescent bubble into the air",
	"looks slightly deflated for a brief moment, then puffs back up",
	"tilts rhythmically back and forth like a gooey metronome",
	"makes a soft, damp squelching sound on wet ground",
	"observes a fat earthworm wriggling slowly past",
	"bounces just high enough to peek over a large clump of grass",
	"seems utterly fascinated by a single dust mote floating in a sunbeam",
	"gives a tiny, almost imperceptible wiggle that might be a nod",
	"rests peacefully near the gnarled roots of an ancient tree",
	"lets out a quiet sound almost like a tiny, happy sigh",
}

func handlePoring(s *godrop.ScheduleContext) {
	// \x01ACTION text\x01 is the way to send /me messages
	// \x01 signals the start and the end of a CTCP action
	// this is because the IRC protocol doesn't actually support /me commands
	/// it's a client-to-client thing
	s.Sendf("PRIVMSG %v :\x01ACTION %v\x01", s.Config.Handler.Poring.Channel, poringActions[rand.Intn(len(poringActions))])
}
